---
# Template for Airflow metadata connection secret
# This secret contains the PostgreSQL connection string for Airflow
#
# Use Sealed Secrets for GitOps-friendly secret management:
#
# 1. Create the secret:
#    kubectl create secret generic airflow-metadata \
#      --from-literal=connection='postgresql://airflow:YOUR_SECURE_PASSWORD@airflow-external-postgresql.airflow:5432/airflow?sslmode=disable' \
#      --namespace=airflow \
#      --dry-run=client -o yaml > /tmp/airflow-metadata.yaml
#
# 2. Seal the secret:
#    kubeseal --format=yaml < /tmp/airflow-metadata.yaml > gitops/namespaces/airflow/base/airflow-metadata-sealed.yaml
#
# 3. Commit the sealed secret to git and apply via ArgoCD
